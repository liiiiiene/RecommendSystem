# 第三章demo

- [第三章demo](#第三章demo)
  - [3 短视频特征提取与分析](#3-短视频特征提取与分析)
    - [3.1用户特征](#31用户特征)
      - [3.1.1 用户活跃度](#311-用户活跃度)
      - [3.1.2 用户注册天数范围](#312-用户注册天数范围)
    - [3.2 视频特征](#32-视频特征)
      - [3.2.1 视频长度分布](#321-视频长度分布)
      - [3.2.2 视频标签分布](#322-视频标签分布)
      - [3.2.3 视频上传类型](#323-视频上传类型)
    - [3.3 交互信息](#33-交互信息)
      - [3.3.1 用户播放视频时长的比例分布](#331-用户播放视频时长的比例分布)
      - [3.3.2 用户播放次数分布](#332-用户播放次数分布)
      - [3.3.3 视频播放时间段分布](#333-视频播放时间段分布)
    - [参考文献](#参考文献)

## 3 短视频特征提取与分析

KuaiRec 是一个真实数据集，收集自视频分享移动应用快手的推荐日志。目前，它是一个包含完全可观察的"user-item"交互矩阵的数据集。对于“完全可观察”一词的定义是"user-item"矩阵中几乎没有缺失值，即每个用户都观看了每个视频，然后留下了反馈。[1]

### 3.1用户特征

在用户特征分析中，我们重点考察了以下方面：用户活跃度与用户注册时长。通过这些指标，我们能较好地理解用户整体的使用习惯与生命周期分布，从而为推荐系统提供更精准的用户画像。

#### 3.1.1 用户活跃度

![user activate](./images/User%20activity%20degree.png)

该图展示了KuaiRec数据集中用户活跃度的分布情况。根据图表显示，用户活跃度主要分为四个类别：full_active（超高活跃）、high_active（高活跃）、UNKNOWN（未知）和middle_active（中等活跃）。
从数据分布来看：

- full_active（超高活跃）：占比 84.89%，为数据集中最主要的用户群体；
- high_active（高活跃）：占比 13.07%；
- UNKNOWN（未知）：占比 1.64%，这部分用户的活跃程度可能缺乏数据支持；
- middle_active（中等活跃）：占比 0.39%，数量最少。

从比例上可见，数据集中的绝大部分用户属于超高或高活跃群体，说明快手平台吸引了大量频繁使用的用户。这种高度活跃的用户群体对于系统推荐、流量分配和业务增长尤其重要，因为他们通常贡献了主要的播放、互动与分享。

#### 3.1.2 用户注册天数范围

![User register](./images/User%20register%20time.png)

该图展示了KuaiRec数据集中用户的注册天数分布情况。图表以柱状图形式呈现不同注册时长区间的用户占比及数量。
从数据分布来看：

- 181-365 天：占比最高，为 43.52%，约 3000 人；
- 91-180 天：占比 23.47%，约 1700 人；
- 31-60 天：占 9.69%；
- 注册超过 730 天（2 年以上）：占比 7.97%；
- 366-730 天：占比 7.59%；
- 61-90 天：占比 6.88%；
- 15-30 天（新用户）：仅占 0.88%。

由此可见，KuaiRec 数据集中半年到一年的用户群体最为显著，这说明平台拥有相当数量的“稳定老用户”。相比之下，新用户占比较小，意味着在进行推荐算法设计时，可以通过老用户丰富的互动信息进行兴趣偏好演化训练。

### 3.2 视频特征

本节对平台上视频数据进行细分，以视频长度、视频标签与上传类型为切入点，观察快手平台在内容生产上所呈现的特点。这对于理解内容供给的形式和主题分布、以及平台上创作场景的多样性均具有重要意义。

#### 3.2.1 视频长度分布

![video duration 1](./images/Video%20duration(minutes).png)

该图展示了KuaiRec数据集中视频时长的分布情况。根据我们的分类标准，视频被划分为以下几类：

- 短视频（short video）：时长小于1分钟
- 中等视频（middle video）：时长在1-5分钟之间
- 长视频（long video）：时长在5-10分钟之间

从图表中可以明显看出，数据集中绝大多数为短视频，占比高达97.50%，这与快手平台以短视频为主的特点相符。中等长度视频（1-5分钟）的占比为2.47%，而长视频（5-10分钟）的比例非常小，仅为0.03%。这种分布特征表明，在该平台上，用户更倾向于创作和分享短小精悍的内容，这符合现代移动互联网用户碎片化时间利用的习惯。

![video duration 2](./images/Video%20duration(milliseconds).png)

该图展示了KuaiRec数据集中视频时长的概率密度分布。这是一个以毫秒为单位的密度曲线图，直观展现了视频长度的分布特征：

- 视频时长分布整体右偏，大量视频集中在 10 秒到 20 秒 之间；
- 峰值出现在约 10,000 毫秒（10 秒） 附近；
- 20 秒后视频数量明显衰减，说明用户通常偏好简短、易于快速消费的内容；
- 在约 60,000 毫秒（1 分钟） 和 130,000–140,000 毫秒（2 分 10 秒至 2 分 20 秒） 处存在小的峰值，或代表特定类型或风格视频的常见时长。

这种分布特征进一步印证了前面柱状图的结论：KuaiRec数据集主要由短视频组成，且视频长度集中在10-20秒区间。这反映了短视频平台的内容特点，用户偏好创作和观看时长较短、内容高度浓缩的视频，符合当代移动互联网用户碎片化使用习惯。

#### 3.2.2 视频标签分布

共收集了 31 个视频类型（即视频标签）。这些标签由快手内部注释团队手动定义和注释。每个视频至少与一个标签相关，最多与四个标签相关。这些标签（例如健身/运动和食谱）。有了这些特征，可以使用此数据集研究更全面的主题。[1]

![video tag](./images/Video%20tag.png)

该图展示了KuaiRec数据集中视频标签的分布情况。图表以柱状图形式呈现了31个不同标签（从0到30）的出现频次及其占比。
从数据分布来看：

- 标签11最为突出，占总体的15.97%，约有2000个视频带有此标签，是数据集中最主要的内容类型
- 标签28位居第二，占比10.71%，约有1350个视频
- 标签8占比8.76%，约有1100个视频
- 标签5和标签6也较为常见，分别占比7.59%和7.19%
- 中等频率的标签包括标签18（5.40%）、标签9（5.48%）和标签12（4.21%）
- 最不常见的标签有标签0（0.19%）、标签22（0.09%）、标签29（0.04%）和标签21（0.16%）

这种不平衡的标签分布表明，在快手平台上，某些特定类型的内容明显更为流行或更常被创作。标签11、28和8的显著主导地位反映了用户对某些特定内容类别的偏好。

![video tag count](./images/Video%20tag%20count.png)

该图展示了KuaiRec数据集中每个视频包含的标签数量分布情况。图表以柱状图形式呈现了视频拥有1个、2个、3个或4个标签的数量统计及其占比。
从数据分布来看：

- 绝大多数视频（83.61%）只拥有1个标签，这表明在快手平台上，内容通常被归类到单一的主题类别中
- 拥有2个标签的视频占比为14.56%，数量明显少于单标签视频
- 拥有3个标签的视频仅占1.72%
- 拥有4个标签的视频极为罕见，仅占0.10%

这种分布特征表明，快手平台上的视频内容通常具有较高的主题聚焦性，创作者倾向于围绕单一主题制作内容。这与短视频格式的特点相符，即在有限的时长内传递明确、集中的信息。

#### 3.2.3 视频上传类型

![Video upload type](./images/Video%20upload%20type.png)

该图展示了KuaiRec数据集中视频上传类型的分布情况。图表以柱状图形式呈现了不同上传方式的视频数量及其占比。
从数据分布来看：

- "ShortImport"（短视频导入）是最主要的上传方式，占比高达58.82%，约有200,000个视频通过这种方式上传，表明用户更倾向于将预先制作好的短视频内容导入平台
- "ShortCamera"（短视频相机拍摄）位居第二，占比14.70%，约有50,000个视频，表明直接在应用内拍摄上传也是重要的内容来源
- "KrMovie"占比7.92%，"LongImport"（长视频导入）占比5.14%
- 中等使用频率的上传类型包括"Web"（网页上传，3.23%）、"WKWSHOW"（2.95%）和"LongCamera"（长视频相机拍摄，1.71%）
- 使用频率较低的上传类型有"4KCutVideo"（1.70%）、"LongPicture"（1.46%）和"PictureSet"（1.44%）
- 最不常用的上传方式包括"LocalCollection"（本地收藏，0.01%）、"PictureCopy"（图片复制，0.02%）和"SameFrame"（相同帧，0.04%）等

可以发现，短视频导入方式最受欢迎，用户往往事先录制或剪辑好视频，再将成品上传；直接在应用内拍摄排在第二位；而长视频上传（无论是导入或相机拍摄）虽然存在，但比重远低于短视频。这也进一步佐证了快手平台的“短视频”核心定位。

### 3.3 交互信息

本节主要考察用户与视频之间的交互信息，包括观看时长比例、播放次数与播放时段等。结合这些数据，可以更全面地理解用户的观看习惯，有助于制定个性化推荐策略。

#### 3.3.1 用户播放视频时长的比例分布

![watch ratio](./images/watch%20ratio.png)

该图展示了KuaiRec数据集中用户观看比例(watch ratio)的概率密度分布。观看比例定义为用户实际播放时长与视频总时长的比值($\frac{\text{play\_duration}}{\text{video\_duration}}$)。
从分布特征来看：

- 分布呈现明显的双峰特征，主要峰值出现在约0.7处，次要峰值出现在约0.3处
- 观看比例主要集中在0到2之间，大多数用户的观看比例分布在0到1.5之间
- 最高密度值出现在约0.7处，说明大多数用户倾向于观看视频总长度的70%左右
- 次高密度值在0.3附近，可能代表快速浏览或提前放弃观看的用户行为模式
- 观看比例大于1的情况也较为常见，表明有相当一部分用户会重复观看视频的部分或全部内容
- 分布曲线在右侧呈现长尾特性，一直延伸到约5.0，但密度迅速降低

这种分布特征揭示了用户观看行为的多样性：一部分用户会完整或接近完整地观看视频内容，另一部分用户可能只观看视频的前三分之一就跳过，而还有一部分用户会重复观看感兴趣的内容。这些行为模式对于理解用户偏好和优化推荐算法具有重要意义。

#### 3.3.2 用户播放次数分布

![play times](./images/play%20times.png)

该图展示了KuaiRec数据集中用户播放次数的概率密度分布。
从分布特征来看：

- 整体分布呈现单峰但略微不对称的形态，主要集中在3290到3330次播放之间
- 最高密度值出现在约3320次播放处，表明多数用户的播放次数集中在这一水平
- 在3310次播放附近可以观察到一个小的凸起，形成轻微的双峰特征
- 分布的左侧（3290-3310）呈现较为平缓的上升趋势
- 分布的右侧（3320-3330）则呈现较为陡峭的下降趋势
- 整体播放次数范围相对集中，最大值与最小值之间的差距约为40次

这种分布特征表明，KuaiRec数据集中的用户群体具有较为一致的观看行为模式，大多数用户的播放次数都集中在一个相对狭窄的范围内。这可能是数据集采集方式的结果，也可能反映了平台上活跃用户的典型行为特征。

#### 3.3.3 视频播放时间段分布

![play hour](./images/play%20hour.png)

该图展示了KuaiRec数据集中用户在一天24小时内各个小时段的视频播放数量分布情况。图表以柱状图形式呈现了从0点到23点每个小时的播放量及其占总播放量的百分比。
从数据分布来看：

- 播放高峰期出现在晚上8-10点(时间轴上的8-10)，其中8点达到最高峰，占总播放量的5.74%
- 9点和10点的播放量也非常接近高峰，分别占5.69%和5.68%
- 7点和11点各占5.43%，也是较高的播放时段
- 12点占5.27%，随后播放量开始逐渐下降
- 深夜和凌晨的播放量明显较低，其中23点(深夜11点)是全天最低谷，仅占1.89%
- 其他低谷时段包括22点(2.36%)和21点(2.75%)
- 凌晨0点到5点的播放量相对稳定，大致在3.82%-4.52%之间波动

这种分布特征表明用户的观看行为与日常生活规律高度相关：晚上8-10点是传统的黄金观看时段，此时用户多已结束一天工作或学习，有较多闲暇时间用于短视频娱乐；而深夜时段观看量大幅下降，符合大多数用户的作息习惯。这一时间分布特征对于内容推送策略和系统资源调配具有重要参考价值。

### 参考文献

[1]
@inproceedings{gao2022kuairec,
  author = {Gao, Chongming and Li, Shijun and Lei, Wenqiang and Chen, Jiawei and Li, Biao and Jiang, Peng and He, Xiangnan and Mao, Jiaxin and Chua, Tat-Seng},
  title = {KuaiRec: A Fully-Observed Dataset and Insights for Evaluating Recommender Systems},
  booktitle = {Proceedings of the 31st ACM International Conference on Information \& Knowledge Management},
  series = {CIKM '22},
  location = {Atlanta, GA, USA},
  url = {https://doi.org/10.1145/3511808.3557220},
  doi = {10.1145/3511808.3557220},
  numpages = {11},
  year = {2022},
  pages = {540–550}
}
